<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <style type="text/css">
        #slideshow
        {
            width:300px;
            height:399px;
            position:relative;
            overflow:hidden;
            }
    </style>
</head>
<body>
    <h1>
        Web Design</h1>
    <p>
        These are things you should know</p>
    <ol id="linklist">
        <li><a href="#">Structure</a></li>
        <li><a href="#">Presentation</a></li>
        <li><a href="#">Behavior</a></li>
    </ol>
    <div id="slideshow">
        <img id="preview" alt=" " src="../HTML/images/人1000.1333_03.png ">
    </div>
    <script type="text/javascript">
        function prepareSlideshow() {
            if (!checkCompatibility()) return false;
            if (!document.getElementById("linklist")) return false;
            if (!document.getElementById("slideshow")) return false;
            var preview = document.getElementById("preview"); //获取预览图片的div
            preview.style.position = "absolute";
            preview.style.left = "372px";
            preview.style.top = "406px";
            var list = document.getElementById("linklist");
            var links = list.getElementsByTagName("a");
            links[0].onmouseover = function () {
                moveElement("preview",-5,0,10);
            }
            links[1].onmouseover = function () {
                moveElement("preview", -10, 0, 10);
            }
            links[2].onmouseover = function () {
                moveElement("preview", -15, 0, 10);
            }
        }

        function moveElement(elementID, final_x, final_y, interval) {
            //下面是每次调用这个新函数可能变化的东西
            //1、打算移动的元素ID  -elementID
            //2、元素移动终点的横坐标  -final_x
            //3、元素移动终点的纵坐标  -final_y
            //4、每次元素移动所产生的时间间隔  interval
            //为上面的变化的东西取个描述性的名字便于理解
            if (!document.getElementById(elementID)) { return false; }
            else { var ele = document.getElementById(elementID); }
            if(ele.movement){
                clearTimeout(ele.movement)
            }
            var xpos = parseInt(ele.style.left);
            var ypos = parseInt(ele.style.top);
            if (xpos == final_x && ypos == final_y) {
                return true;
            }
            if (xpos < final_x) {
                xpos++;
            }
            if (xpos > final_x) {
                xpos--;
            }
            if (ypos > final_y) {
                ypos--;
            }
            if (ypos < final_y) {
                ypos++;
            }
            ele.style.left = xpos + "px";
            ele.style.top = ypos + "px";
            var repeat = "moveElement('" + elementID + "','" + final_x + "','" + final_y + "','" + interval + "')";
            ele.movement = setTimeout(repeat, interval);
        }
        function checkCompatibility() {
            if (!document.getElementById) return false;
            if (!document.createElement) return false;
            if (!document.createTextNode) return false;
            if (!document.getElementsByTagName) return false;
            if (!document.getElementsByName) return false;
            return true;
        }
        function addOnloadEvent(func) {
            var oldonload = window.onload;
            if (typeof window.onload != "function") {
                window.onload = func; //如果window.onload事件没有绑定任何function则正常绑定
            }
            else {
                //如果window.onload事件已经绑定了函数,则在原来的基础上,继续添加新的函数
                window.onload = function () {
                    oldonload();
                    func();
                };
            }
        }
        addOnloadEvent(prepareSlideshow);
    </script>
</body>
</html>;